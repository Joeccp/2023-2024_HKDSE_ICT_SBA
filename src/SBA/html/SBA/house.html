<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>SBA.house API documentation</title>
<meta name="description" content="Defines House" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>SBA.house</code></h1>
</header>
<section id="section-intro">
<p>Defines House</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;Defines House&#34;&#34;&#34;

# Copyright 2023 Joe Chau
#
# Licensed under the Apache License, Version 2.0 (the &#34;License&#34;);
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an &#34;AS IS&#34; BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

from logging import getLogger, Logger
from typing import NoReturn, Optional, Self, TypeAlias

from .colour import Colour, column_colour, row_colour
from .language import printLang

Row: TypeAlias = list[int]
Seating_plan: TypeAlias = list[Row]

Ticket_index: TypeAlias = int
Ticket_number: TypeAlias = str
Time: TypeAlias = str
House_number: TypeAlias = int
Movie: TypeAlias = str
Row_number: TypeAlias = int  # Not to be confused with Row
Column_number: TypeAlias = int
Ticket: TypeAlias = tuple[Ticket_index, Ticket_number, Time, House_number, Movie, Row_number, Column_number]


class House:
        &#34;&#34;&#34;
        A rectangular house of a cinema
        
        In the seating plan,
        0 = Empty (O)
        1 = Sold (X)
        2 = Reserved (!)
        &#34;&#34;&#34;
        
        n_House: int = 0
        houses_table: dict[int, Self] = {}
        tickets_table: list[Ticket] = []
        total_tickets: int = 0
        
        def __init__(self, *, row_number: int, column_number: int) -&gt; None:
                &#34;&#34;&#34;
                0 &lt; row_number &lt; 100
                0 &lt; column_number &lt; 27
                &#34;&#34;&#34;
                self.n_row: int = row_number
                self.n_column: int = column_number
                self.seating_plan: Seating_plan = [[0 for _ in range(self.n_column)] for _ in range(self.n_row)]
                House.n_House += 1
                self.house_number: int = House.n_House
                House.houses_table[self.house_number] = self
                self.movie: str = &#39;&#39;
                self.n_seat: int = self.n_row * self.n_column
                logger: Logger = getLogger(&#34;House.__init__&#34;)
                logger.info(f&#34;House {self.house_number} is created -- {self.n_row}x{self.n_column}&#34;)
        
        @property
        def n_available(self) -&gt; int:
                &#34;&#34;&#34;
                Returns the number of available seats
                &#34;&#34;&#34;
                count: int = 0
                for row in self.seating_plan:
                        for seat in row:
                                if seat == 0:
                                        count += 1
                return count
        
        def clearPlan(self) -&gt; None:
                &#34;&#34;&#34;Clear the seating plan&#34;&#34;&#34;
                self.seating_plan: Seating_plan = [[0 for _ in range(self.n_column)] for _ in range(self.n_row)]
                logger: Logger = getLogger(&#34;House.clearPlan&#34;)
                logger.info(f&#34;House {self.house_number}&#39;s seating plan has been cleared&#34;)
        
        def printSeatingPlan(self) -&gt; None:  # pragma: no cover # skip coverage report -- IDK how to mock output
                &#34;&#34;&#34;Print the seating plan&#34;&#34;&#34;
                from .colour import normal_colour
                
                line_length: int = self.n_column * 2 + 1
                printLang(f&#34;{&#39;[Screen Here]&#39;:^{line_length + 8}}&#34;,
                          f&#34;{&#39;[銀幕在此]&#39;:^{line_length + 6}}&#34;)
                print(&#39;    &#39; + &#39;_&#39; * line_length)
                print(&#39;    |&#39;, end=&#39;&#39;)
                for i in range(self.n_column):
                        print(column_colour + chr(i + 65) + normal_colour, end=&#39;|&#39;)
                print()
                print(&#39;    &#39; + &#39;-&#39; * line_length)
                for row in range(self.n_row):
                        print(f&#39;{row_colour}{row + 1:&lt;2}{normal_colour}  |&#39;, end=&#39;&#39;)
                        for column in range(self.n_column):
                                match self.seating_plan[row][column]:
                                        case 0:
                                                symbol = Colour.GREEN_BG + Colour.BLACK + &#39; &#39; + normal_colour
                                        case 1:
                                                symbol = Colour.RED_BG + Colour.BLACK + &#39;X&#39; + normal_colour
                                        case 2:
                                                symbol = Colour.YELLOW_BG + Colour.BLACK + &#39;!&#39; + normal_colour
                                print(symbol, end=&#39;|&#39;)  # NOQA
                        print(f&#39;  {row_colour}{row + 1:&gt;2}{normal_colour}&#39;)
                        print(&#39;    &#39; + &#39;-&#39; * line_length)
                print()
                printLang(Colour.GREEN_BG + Colour.BLACK + &#34;  -- Empty   &#34; + normal_colour,
                          Colour.GREEN_BG + Colour.BLACK + &#34;  -- 可選座位&#34; + normal_colour)
                printLang(Colour.RED_BG + Colour.BLACK + &#34;X -- Sold    &#34; + normal_colour,
                          Colour.RED_BG + Colour.BLACK + &#34;X -- 已售座位&#34; + normal_colour)
                printLang(Colour.YELLOW_BG + Colour.BLACK + &#34;! -- Reserved&#34; + normal_colour,
                          Colour.YELLOW_BG + Colour.BLACK + &#34;! -- 保留座位&#34; + normal_colour)
                print()
        
        @classmethod
        def get_n_tickets(cls) -&gt; int:
                &#34;&#34;&#34;Returns the number of tickets sold in ALL houses&#34;&#34;&#34;
                return len(cls.tickets_table)
        
        @classmethod
        def searchTicket(cls, target_ticket_index: int) -&gt; Optional[Ticket]:
                &#34;&#34;&#34;
                Searches the ticket with the given ticket index, and returns it.
                Assumes the (format of the) ticket index is valid.
                If the ticket does not exist, returns None.
                
                It uses binary search.
                
                ASSUMES House.tickets_table IS ALREADY SORTED (As it should be sorted anytime).
                
                :param target_ticket_index: Ticket index with a valid format
                :type target_ticket_index: int
                :return: Ticket
                :rtype: Optional[tuple[int, str, str, int, str, int, int]]
                &#34;&#34;&#34;
                logger: Logger = getLogger(&#34;House.searchTicket&#34;)
                logger.info(f&#34;Searching ticket: {target_ticket_index}&#34;)
                
                if not cls.tickets_table:
                        logger.info(&#34;No any tickets, just return None&#34;)
                        return None
                
                min_: int = 0
                max_: int = cls.get_n_tickets() - 1
                logger.debug(f&#34;Min: {min_}  &amp; Max: {max_}&#34;)
                
                while True:
                        logger.debug(f&#34;Min: {min_}  &amp; Max: {max_}&#34;)
                        if min_ == max_:
                                if cls.tickets_table[min_][0] == target_ticket_index:
                                        logger.debug(f&#34;cls.tickets_table[min_][0] = {cls.tickets_table[min_][0]}&#34;)
                                        logger.info(f&#34;Return ticket: {cls.tickets_table[min_]}&#34;)
                                        return cls.tickets_table[min_]
                                else:
                                        logger.info(&#34;No such ticket&#34;)
                                        return None
                        
                        if max_ - min_ == 1:
                                if cls.tickets_table[max_][0] == target_ticket_index:
                                        return cls.tickets_table[max_]
                                elif cls.tickets_table[min_][0] == target_ticket_index:
                                        return cls.tickets_table[min_]
                                else:
                                        return None
                        
                        half: int = int((max_ + min_) / 2)  # int() = floor()
                        guess_ticket_index: int = cls.tickets_table[half][0]
                        
                        logger.debug(f&#34;half: {half}  guess_ticket_index: {guess_ticket_index}&#34;)
                        
                        if guess_ticket_index == target_ticket_index:
                                logger.info(f&#34;Return ticket: cls.tickets_table[half] = {cls.tickets_table[half]}&#34;)
                                return cls.tickets_table[half]
                        elif guess_ticket_index &gt; target_ticket_index:
                                max_: int = half
                                logger.debug(&#34;max_ &lt;- half&#34;)
                                logger.debug(f&#34;max is now {max_}&#34;)
                        else:
                                min_: int = half
                                logger.debug(&#34;min_ &lt;- half&#34;)
                                logger.debug(f&#34;min is now {min_}&#34;)
        
        # THE BELOW DUNDER METHODS ARE DEFINED FOR FUTURE USAGE ONLY, NOT IN USED

        def __getitem__(self, key: int) -&gt; Row:
                &#34;&#34;&#34;
                Returns self.seating_plan[key]
                
                So `house[key]` will return the corresponding row of the seating plan where `house` is a `House` instance.
                It should only be used ONLY when you want to READ the seating plan, not changing it.
                It provides more simple iteration.
                
                E.g.
                        for seat in house[row_number]:
                                ...
                
                :param key: Row number
                :type key: int
                :return: The corresponding row of the seating plan
                :rtype: list[int]
                &#34;&#34;&#34;
                return self.seating_plan[key]
        
        def __setitem__(self, key: int, value: Row) -&gt; NoReturn:
                &#34;&#34;&#34;
                Do self.seating_plan[key] = value
                
                NOTE: value should be a ROW, not a seat.
                
                In most of the cases, you would NOT like to use this method.
                I can&#39;t think of any reason for implementing this method.
                You should do `self.seating_plan[key] = value` instead.
                However, I have already defined the __getitem__ method,
                which may cause confusion where programmers (i.e. me) think there is an error.
                
                It raises MethodShouldNotBeUsed
                
                :param key: Row number
                :type key: int
                :param value: New row
                :type value: list[int]
                &#34;&#34;&#34;
                class MethodShouldNotBeUsed(Exception):
                        &#34;&#34;&#34;House.__setitem__ method should NEVER be used, do self.seating_plan[row_number] = row instead&#34;&#34;&#34;
                        def __str__(self) -&gt; str:
                                self.__doc__: str
                                return self.__doc__
                raise MethodShouldNotBeUsed</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="SBA.house.House"><code class="flex name class">
<span>class <span class="ident">House</span></span>
<span>(</span><span>*, row_number: int, column_number: int)</span>
</code></dt>
<dd>
<div class="desc"><p>A rectangular house of a cinema</p>
<p>In the seating plan,
0 = Empty (O)
1 = Sold (X)
2 = Reserved (!)</p>
<p>0 &lt; row_number &lt; 100
0 &lt; column_number &lt; 27</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class House:
        &#34;&#34;&#34;
        A rectangular house of a cinema
        
        In the seating plan,
        0 = Empty (O)
        1 = Sold (X)
        2 = Reserved (!)
        &#34;&#34;&#34;
        
        n_House: int = 0
        houses_table: dict[int, Self] = {}
        tickets_table: list[Ticket] = []
        total_tickets: int = 0
        
        def __init__(self, *, row_number: int, column_number: int) -&gt; None:
                &#34;&#34;&#34;
                0 &lt; row_number &lt; 100
                0 &lt; column_number &lt; 27
                &#34;&#34;&#34;
                self.n_row: int = row_number
                self.n_column: int = column_number
                self.seating_plan: Seating_plan = [[0 for _ in range(self.n_column)] for _ in range(self.n_row)]
                House.n_House += 1
                self.house_number: int = House.n_House
                House.houses_table[self.house_number] = self
                self.movie: str = &#39;&#39;
                self.n_seat: int = self.n_row * self.n_column
                logger: Logger = getLogger(&#34;House.__init__&#34;)
                logger.info(f&#34;House {self.house_number} is created -- {self.n_row}x{self.n_column}&#34;)
        
        @property
        def n_available(self) -&gt; int:
                &#34;&#34;&#34;
                Returns the number of available seats
                &#34;&#34;&#34;
                count: int = 0
                for row in self.seating_plan:
                        for seat in row:
                                if seat == 0:
                                        count += 1
                return count
        
        def clearPlan(self) -&gt; None:
                &#34;&#34;&#34;Clear the seating plan&#34;&#34;&#34;
                self.seating_plan: Seating_plan = [[0 for _ in range(self.n_column)] for _ in range(self.n_row)]
                logger: Logger = getLogger(&#34;House.clearPlan&#34;)
                logger.info(f&#34;House {self.house_number}&#39;s seating plan has been cleared&#34;)
        
        def printSeatingPlan(self) -&gt; None:  # pragma: no cover # skip coverage report -- IDK how to mock output
                &#34;&#34;&#34;Print the seating plan&#34;&#34;&#34;
                from .colour import normal_colour
                
                line_length: int = self.n_column * 2 + 1
                printLang(f&#34;{&#39;[Screen Here]&#39;:^{line_length + 8}}&#34;,
                          f&#34;{&#39;[銀幕在此]&#39;:^{line_length + 6}}&#34;)
                print(&#39;    &#39; + &#39;_&#39; * line_length)
                print(&#39;    |&#39;, end=&#39;&#39;)
                for i in range(self.n_column):
                        print(column_colour + chr(i + 65) + normal_colour, end=&#39;|&#39;)
                print()
                print(&#39;    &#39; + &#39;-&#39; * line_length)
                for row in range(self.n_row):
                        print(f&#39;{row_colour}{row + 1:&lt;2}{normal_colour}  |&#39;, end=&#39;&#39;)
                        for column in range(self.n_column):
                                match self.seating_plan[row][column]:
                                        case 0:
                                                symbol = Colour.GREEN_BG + Colour.BLACK + &#39; &#39; + normal_colour
                                        case 1:
                                                symbol = Colour.RED_BG + Colour.BLACK + &#39;X&#39; + normal_colour
                                        case 2:
                                                symbol = Colour.YELLOW_BG + Colour.BLACK + &#39;!&#39; + normal_colour
                                print(symbol, end=&#39;|&#39;)  # NOQA
                        print(f&#39;  {row_colour}{row + 1:&gt;2}{normal_colour}&#39;)
                        print(&#39;    &#39; + &#39;-&#39; * line_length)
                print()
                printLang(Colour.GREEN_BG + Colour.BLACK + &#34;  -- Empty   &#34; + normal_colour,
                          Colour.GREEN_BG + Colour.BLACK + &#34;  -- 可選座位&#34; + normal_colour)
                printLang(Colour.RED_BG + Colour.BLACK + &#34;X -- Sold    &#34; + normal_colour,
                          Colour.RED_BG + Colour.BLACK + &#34;X -- 已售座位&#34; + normal_colour)
                printLang(Colour.YELLOW_BG + Colour.BLACK + &#34;! -- Reserved&#34; + normal_colour,
                          Colour.YELLOW_BG + Colour.BLACK + &#34;! -- 保留座位&#34; + normal_colour)
                print()
        
        @classmethod
        def get_n_tickets(cls) -&gt; int:
                &#34;&#34;&#34;Returns the number of tickets sold in ALL houses&#34;&#34;&#34;
                return len(cls.tickets_table)
        
        @classmethod
        def searchTicket(cls, target_ticket_index: int) -&gt; Optional[Ticket]:
                &#34;&#34;&#34;
                Searches the ticket with the given ticket index, and returns it.
                Assumes the (format of the) ticket index is valid.
                If the ticket does not exist, returns None.
                
                It uses binary search.
                
                ASSUMES House.tickets_table IS ALREADY SORTED (As it should be sorted anytime).
                
                :param target_ticket_index: Ticket index with a valid format
                :type target_ticket_index: int
                :return: Ticket
                :rtype: Optional[tuple[int, str, str, int, str, int, int]]
                &#34;&#34;&#34;
                logger: Logger = getLogger(&#34;House.searchTicket&#34;)
                logger.info(f&#34;Searching ticket: {target_ticket_index}&#34;)
                
                if not cls.tickets_table:
                        logger.info(&#34;No any tickets, just return None&#34;)
                        return None
                
                min_: int = 0
                max_: int = cls.get_n_tickets() - 1
                logger.debug(f&#34;Min: {min_}  &amp; Max: {max_}&#34;)
                
                while True:
                        logger.debug(f&#34;Min: {min_}  &amp; Max: {max_}&#34;)
                        if min_ == max_:
                                if cls.tickets_table[min_][0] == target_ticket_index:
                                        logger.debug(f&#34;cls.tickets_table[min_][0] = {cls.tickets_table[min_][0]}&#34;)
                                        logger.info(f&#34;Return ticket: {cls.tickets_table[min_]}&#34;)
                                        return cls.tickets_table[min_]
                                else:
                                        logger.info(&#34;No such ticket&#34;)
                                        return None
                        
                        if max_ - min_ == 1:
                                if cls.tickets_table[max_][0] == target_ticket_index:
                                        return cls.tickets_table[max_]
                                elif cls.tickets_table[min_][0] == target_ticket_index:
                                        return cls.tickets_table[min_]
                                else:
                                        return None
                        
                        half: int = int((max_ + min_) / 2)  # int() = floor()
                        guess_ticket_index: int = cls.tickets_table[half][0]
                        
                        logger.debug(f&#34;half: {half}  guess_ticket_index: {guess_ticket_index}&#34;)
                        
                        if guess_ticket_index == target_ticket_index:
                                logger.info(f&#34;Return ticket: cls.tickets_table[half] = {cls.tickets_table[half]}&#34;)
                                return cls.tickets_table[half]
                        elif guess_ticket_index &gt; target_ticket_index:
                                max_: int = half
                                logger.debug(&#34;max_ &lt;- half&#34;)
                                logger.debug(f&#34;max is now {max_}&#34;)
                        else:
                                min_: int = half
                                logger.debug(&#34;min_ &lt;- half&#34;)
                                logger.debug(f&#34;min is now {min_}&#34;)
        
        # THE BELOW DUNDER METHODS ARE DEFINED FOR FUTURE USAGE ONLY, NOT IN USED

        def __getitem__(self, key: int) -&gt; Row:
                &#34;&#34;&#34;
                Returns self.seating_plan[key]
                
                So `house[key]` will return the corresponding row of the seating plan where `house` is a `House` instance.
                It should only be used ONLY when you want to READ the seating plan, not changing it.
                It provides more simple iteration.
                
                E.g.
                        for seat in house[row_number]:
                                ...
                
                :param key: Row number
                :type key: int
                :return: The corresponding row of the seating plan
                :rtype: list[int]
                &#34;&#34;&#34;
                return self.seating_plan[key]
        
        def __setitem__(self, key: int, value: Row) -&gt; NoReturn:
                &#34;&#34;&#34;
                Do self.seating_plan[key] = value
                
                NOTE: value should be a ROW, not a seat.
                
                In most of the cases, you would NOT like to use this method.
                I can&#39;t think of any reason for implementing this method.
                You should do `self.seating_plan[key] = value` instead.
                However, I have already defined the __getitem__ method,
                which may cause confusion where programmers (i.e. me) think there is an error.
                
                It raises MethodShouldNotBeUsed
                
                :param key: Row number
                :type key: int
                :param value: New row
                :type value: list[int]
                &#34;&#34;&#34;
                class MethodShouldNotBeUsed(Exception):
                        &#34;&#34;&#34;House.__setitem__ method should NEVER be used, do self.seating_plan[row_number] = row instead&#34;&#34;&#34;
                        def __str__(self) -&gt; str:
                                self.__doc__: str
                                return self.__doc__
                raise MethodShouldNotBeUsed</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="SBA.house.House.houses_table"><code class="name">var <span class="ident">houses_table</span> : dict[int, typing.Self]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="SBA.house.House.n_House"><code class="name">var <span class="ident">n_House</span> : int</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="SBA.house.House.tickets_table"><code class="name">var <span class="ident">tickets_table</span> : list[tuple[int, str, str, int, str, int, int]]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="SBA.house.House.total_tickets"><code class="name">var <span class="ident">total_tickets</span> : int</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Static methods</h3>
<dl>
<dt id="SBA.house.House.get_n_tickets"><code class="name flex">
<span>def <span class="ident">get_n_tickets</span></span>(<span>) ‑> int</span>
</code></dt>
<dd>
<div class="desc"><p>Returns the number of tickets sold in ALL houses</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@classmethod
def get_n_tickets(cls) -&gt; int:
        &#34;&#34;&#34;Returns the number of tickets sold in ALL houses&#34;&#34;&#34;
        return len(cls.tickets_table)</code></pre>
</details>
</dd>
<dt id="SBA.house.House.searchTicket"><code class="name flex">
<span>def <span class="ident">searchTicket</span></span>(<span>target_ticket_index: int) ‑> Optional[tuple[int, str, str, int, str, int, int]]</span>
</code></dt>
<dd>
<div class="desc"><p>Searches the ticket with the given ticket index, and returns it.
Assumes the (format of the) ticket index is valid.
If the ticket does not exist, returns None.</p>
<p>It uses binary search.</p>
<p>ASSUMES House.tickets_table IS ALREADY SORTED (As it should be sorted anytime).</p>
<p>:param target_ticket_index: Ticket index with a valid format
:type target_ticket_index: int
:return: Ticket
:rtype: Optional[tuple[int, str, str, int, str, int, int]]</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@classmethod
def searchTicket(cls, target_ticket_index: int) -&gt; Optional[Ticket]:
        &#34;&#34;&#34;
        Searches the ticket with the given ticket index, and returns it.
        Assumes the (format of the) ticket index is valid.
        If the ticket does not exist, returns None.
        
        It uses binary search.
        
        ASSUMES House.tickets_table IS ALREADY SORTED (As it should be sorted anytime).
        
        :param target_ticket_index: Ticket index with a valid format
        :type target_ticket_index: int
        :return: Ticket
        :rtype: Optional[tuple[int, str, str, int, str, int, int]]
        &#34;&#34;&#34;
        logger: Logger = getLogger(&#34;House.searchTicket&#34;)
        logger.info(f&#34;Searching ticket: {target_ticket_index}&#34;)
        
        if not cls.tickets_table:
                logger.info(&#34;No any tickets, just return None&#34;)
                return None
        
        min_: int = 0
        max_: int = cls.get_n_tickets() - 1
        logger.debug(f&#34;Min: {min_}  &amp; Max: {max_}&#34;)
        
        while True:
                logger.debug(f&#34;Min: {min_}  &amp; Max: {max_}&#34;)
                if min_ == max_:
                        if cls.tickets_table[min_][0] == target_ticket_index:
                                logger.debug(f&#34;cls.tickets_table[min_][0] = {cls.tickets_table[min_][0]}&#34;)
                                logger.info(f&#34;Return ticket: {cls.tickets_table[min_]}&#34;)
                                return cls.tickets_table[min_]
                        else:
                                logger.info(&#34;No such ticket&#34;)
                                return None
                
                if max_ - min_ == 1:
                        if cls.tickets_table[max_][0] == target_ticket_index:
                                return cls.tickets_table[max_]
                        elif cls.tickets_table[min_][0] == target_ticket_index:
                                return cls.tickets_table[min_]
                        else:
                                return None
                
                half: int = int((max_ + min_) / 2)  # int() = floor()
                guess_ticket_index: int = cls.tickets_table[half][0]
                
                logger.debug(f&#34;half: {half}  guess_ticket_index: {guess_ticket_index}&#34;)
                
                if guess_ticket_index == target_ticket_index:
                        logger.info(f&#34;Return ticket: cls.tickets_table[half] = {cls.tickets_table[half]}&#34;)
                        return cls.tickets_table[half]
                elif guess_ticket_index &gt; target_ticket_index:
                        max_: int = half
                        logger.debug(&#34;max_ &lt;- half&#34;)
                        logger.debug(f&#34;max is now {max_}&#34;)
                else:
                        min_: int = half
                        logger.debug(&#34;min_ &lt;- half&#34;)
                        logger.debug(f&#34;min is now {min_}&#34;)</code></pre>
</details>
</dd>
</dl>
<h3>Instance variables</h3>
<dl>
<dt id="SBA.house.House.n_available"><code class="name">var <span class="ident">n_available</span> : int</code></dt>
<dd>
<div class="desc"><p>Returns the number of available seats</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def n_available(self) -&gt; int:
        &#34;&#34;&#34;
        Returns the number of available seats
        &#34;&#34;&#34;
        count: int = 0
        for row in self.seating_plan:
                for seat in row:
                        if seat == 0:
                                count += 1
        return count</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="SBA.house.House.clearPlan"><code class="name flex">
<span>def <span class="ident">clearPlan</span></span>(<span>self) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Clear the seating plan</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def clearPlan(self) -&gt; None:
        &#34;&#34;&#34;Clear the seating plan&#34;&#34;&#34;
        self.seating_plan: Seating_plan = [[0 for _ in range(self.n_column)] for _ in range(self.n_row)]
        logger: Logger = getLogger(&#34;House.clearPlan&#34;)
        logger.info(f&#34;House {self.house_number}&#39;s seating plan has been cleared&#34;)</code></pre>
</details>
</dd>
<dt id="SBA.house.House.printSeatingPlan"><code class="name flex">
<span>def <span class="ident">printSeatingPlan</span></span>(<span>self) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Print the seating plan</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def printSeatingPlan(self) -&gt; None:  # pragma: no cover # skip coverage report -- IDK how to mock output
        &#34;&#34;&#34;Print the seating plan&#34;&#34;&#34;
        from .colour import normal_colour
        
        line_length: int = self.n_column * 2 + 1
        printLang(f&#34;{&#39;[Screen Here]&#39;:^{line_length + 8}}&#34;,
                  f&#34;{&#39;[銀幕在此]&#39;:^{line_length + 6}}&#34;)
        print(&#39;    &#39; + &#39;_&#39; * line_length)
        print(&#39;    |&#39;, end=&#39;&#39;)
        for i in range(self.n_column):
                print(column_colour + chr(i + 65) + normal_colour, end=&#39;|&#39;)
        print()
        print(&#39;    &#39; + &#39;-&#39; * line_length)
        for row in range(self.n_row):
                print(f&#39;{row_colour}{row + 1:&lt;2}{normal_colour}  |&#39;, end=&#39;&#39;)
                for column in range(self.n_column):
                        match self.seating_plan[row][column]:
                                case 0:
                                        symbol = Colour.GREEN_BG + Colour.BLACK + &#39; &#39; + normal_colour
                                case 1:
                                        symbol = Colour.RED_BG + Colour.BLACK + &#39;X&#39; + normal_colour
                                case 2:
                                        symbol = Colour.YELLOW_BG + Colour.BLACK + &#39;!&#39; + normal_colour
                        print(symbol, end=&#39;|&#39;)  # NOQA
                print(f&#39;  {row_colour}{row + 1:&gt;2}{normal_colour}&#39;)
                print(&#39;    &#39; + &#39;-&#39; * line_length)
        print()
        printLang(Colour.GREEN_BG + Colour.BLACK + &#34;  -- Empty   &#34; + normal_colour,
                  Colour.GREEN_BG + Colour.BLACK + &#34;  -- 可選座位&#34; + normal_colour)
        printLang(Colour.RED_BG + Colour.BLACK + &#34;X -- Sold    &#34; + normal_colour,
                  Colour.RED_BG + Colour.BLACK + &#34;X -- 已售座位&#34; + normal_colour)
        printLang(Colour.YELLOW_BG + Colour.BLACK + &#34;! -- Reserved&#34; + normal_colour,
                  Colour.YELLOW_BG + Colour.BLACK + &#34;! -- 保留座位&#34; + normal_colour)
        print()</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="SBA" href="index.html">SBA</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="SBA.house.House" href="#SBA.house.House">House</a></code></h4>
<ul class="two-column">
<li><code><a title="SBA.house.House.clearPlan" href="#SBA.house.House.clearPlan">clearPlan</a></code></li>
<li><code><a title="SBA.house.House.get_n_tickets" href="#SBA.house.House.get_n_tickets">get_n_tickets</a></code></li>
<li><code><a title="SBA.house.House.houses_table" href="#SBA.house.House.houses_table">houses_table</a></code></li>
<li><code><a title="SBA.house.House.n_House" href="#SBA.house.House.n_House">n_House</a></code></li>
<li><code><a title="SBA.house.House.n_available" href="#SBA.house.House.n_available">n_available</a></code></li>
<li><code><a title="SBA.house.House.printSeatingPlan" href="#SBA.house.House.printSeatingPlan">printSeatingPlan</a></code></li>
<li><code><a title="SBA.house.House.searchTicket" href="#SBA.house.House.searchTicket">searchTicket</a></code></li>
<li><code><a title="SBA.house.House.tickets_table" href="#SBA.house.House.tickets_table">tickets_table</a></code></li>
<li><code><a title="SBA.house.House.total_tickets" href="#SBA.house.House.total_tickets">total_tickets</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>