<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>SBA.utils API documentation</title>
<meta name="description" content="Utilities" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>SBA.utils</code></h1>
</header>
<section id="section-intro">
<p>Utilities</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;Utilities&#34;&#34;&#34;

# Copyright 2023 Joe Chau
#
# Licensed under the Apache License, Version 2.0 (the &#34;License&#34;);
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an &#34;AS IS&#34; BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.


from atexit import register
from datetime import datetime
from logging import basicConfig, DEBUG, getLogger, Logger
from os import get_terminal_size, name, makedirs, path, system
from pickle import dump, load
from platform import system as systemPlatform  # NOQA: lowercase function imported as uppercase function
from sys import argv, version_info

from .colour import loadColour, setColour
from .house import House
from .language import loadLanguage, printLang, setLanguage


class RealExit(Exception):
        &#34;&#34;&#34;
        This exception is raised when you really want to quit
        i.e. Not an unexpected program crash
        
        This exception should be handled specially in main.main()
        
        Do NOT use exit() or quit() or even os._exit(), they can&#39;t be treated specifically (in this program)
        &#34;&#34;&#34;
        
        def __init__(self, message: str = &#34;&#34;) -&gt; None:
                # No logging is needed
                self.message: str = message
                super().__init__(self.message)


def checkPythonVersion() -&gt; None:
        &#34;&#34;&#34;
        Checks the Python version.
        If the python version is older than 3.11, it raises SystemExit.

        :return: None
        :raises SystemExit: If the Python version is older than 3.11
        &#34;&#34;&#34;
        # (tomllib, which is required in login.login, was introduced in Python 3.11),
        # (typing.Self, which is used in house.House, was also introduced in Python 3.11)
        # (match-case syntax, which is used in House.printPlan, was introduced in Python 3.10)
        
        logger: Logger = getLogger(&#34;checkPythonVersion&#34;)
        major_version, minor_version, *_ = version_info
        if major_version &lt; 3:
                logger.critical(&#34;I am running on Python %s!&#34;, major_version)
                logger.critical(&#34;QUITTING THE PROGRAM: Python version lower than Python 3.11&#34;)
                err_msg: str = &#34;This program does not support Python 2&#34;
                raise RealExit(err_msg)
        elif minor_version &lt; 11:
                logger.critical(&#34;I am running on Python 3.%s!&#34;, minor_version)
                logger.critical(&#34;QUITTING THE PROGRAM: Python version lower than Python 3.11&#34;)
                err_msg: str = &#34;Unsupported old Python version (&#34; + str(major_version) + &#34;.&#34; + str(
                        minor_version) + &#34;), please use Python 3.11 or newer&#34;
                raise RealExit(err_msg)


def clearScreen() -&gt; None:
        &#34;&#34;&#34;
        Clear the screen

        :return: None
        &#34;&#34;&#34;
        
        try:
                terminal_width, terminal_height = get_terminal_size()
                # Print empty lines in case system(&#39;cls&#39;) or system(&#39;clear&#39;) does not work
                print(&#39;\n&#39; * terminal_height, end=&#39;&#39;)
        except OSError:
                # OSError: [WinError 6] The handle is invalid
                # Normally due to get_terminal_size()
                # But still need to print empty lines in case system(&#39;cls&#39;) or system(&#39;clear&#39;) does not work
                print(&#39;\n&#39; * 30)
        finally:
                if name == &#39;nt&#39;:
                        system(&#39;cls&#39;)
                else:
                        system(&#39;clear&#39;)


def saveData(*, print_log: bool = False) -&gt; None:
        &#34;&#34;&#34;
        Save `House.houses_table` into `data/houses`,
        and save `House.total_tickets` and `House.tickets_table` into `data/tickets`
        
        :param print_log: Whether to print logs, it is for admin mode. Keyword-only parameter
        :type print_log: bool
        :return: None
        &#34;&#34;&#34;
        from .colour import colour_mode
        from .language import language
        
        logger: Logger = getLogger(&#39;saveData&#39;)
        logger.info(&#34;Saving Data&#34;)
        
        def internalLog(english_message: str, chinese_message: str) -&gt; None:
                &#34;&#34;&#34;
                Print (English) log if `print_log` is `True`

                :param english_message: An English message to print and log
                :type english_message: str
                :param chinese_message: A Chinese message to print
                :type chinese_message: str
                :return: None
                &#34;&#34;&#34;
                if print_log:
                        printLang(english_message, chinese_message)
                logger.info(english_message)
        
        absolute_path = path.dirname(__file__)
        
        relative_path = &#39;../../data&#39;
        full_path = path.join(absolute_path, relative_path)
        logger.debug(f&#34;Full path = {full_path}&#34;)
        internalLog(&#34;Reaching the data folder&#34;, &#34;正在尋找 data 資料夾&#34;)
        if not path.isdir(full_path):
                internalLog(&#34;No data folder, creating one&#34;, &#34;無 data 資料夾，正在創建&#34;)
                makedirs(full_path)
        
        internalLog(&#34;Writing houses data&#34;, &#34;正在寫入電影院資料&#34;)
        relative_path = &#34;../../data/houses&#34;
        full_path = path.join(absolute_path, relative_path)
        logger.debug(f&#34;Full path = {full_path}&#34;)
        with open(full_path, &#39;wb&#39;) as file:
                # No need save House.n_house, count it later
                dump(House.houses_table, file)
        
        internalLog(&#34;Writing tickets data&#34;, &#34;正在寫入電影票資料&#34;)
        relative_path = &#34;../../data/tickets&#34;
        full_path = path.join(absolute_path, relative_path)
        logger.debug(f&#34;Full path = {full_path}&#34;)
        with open(full_path, &#39;wb&#39;) as file:
                dump([House.total_tickets, House.tickets_table], file)
        
        internalLog(&#34;Writing colour scheme setting&#34;, &#34;正在寫入顔色設定&#34;)
        setColour(colour_mode)
        
        internalLog(&#34;Writing language option&#34;, &#34;正在寫入語言設定&#34;)
        setLanguage(language)
        
        internalLog(&#34;Data saving process finished&#34;, &#34;儲存資料程序完成&#34;)


def loadData(*, print_log: bool = False) -&gt; None:
        &#34;&#34;&#34;
        Load `House.houses_table` from `data/houses`,
        and load `House.total_tickets` and `House.tickets_table` from `data/tickets`

        :param print_log: Whether to print logs, it is for admin mode. Keyword-only parameter
        :type print_log: bool
        :return: None
        &#34;&#34;&#34;
        
        logger: Logger = getLogger(&#39;loadData&#39;)
        logger.info(&#34;Loading Data&#34;)
        
        def internalLog(english_message: str, chinese_message: str) -&gt; None:
                &#34;&#34;&#34;
                Print (English) log if `print_log` is `True`

                :param english_message: An English message to print and log
                :type english_message: str
                :param chinese_message: A Chinese message to print
                :type chinese_message: str
                :return: None
                &#34;&#34;&#34;
                if print_log:
                        printLang(english_message, chinese_message)
                logger.info(english_message)
        
        absolute_path = path.dirname(__file__)
        
        relative_path = &#34;../../data/houses&#34;
        full_path = path.join(absolute_path, relative_path)
        logger.debug(f&#34;Full path = {full_path}&#34;)
        try:
                internalLog(&#34;Finding houses data&#34;, &#34;正在尋找電影院資料&#34;)
                with open(full_path, &#39;rb&#39;) as file:
                        data: dict = load(file)
                House.houses_table = data
                House.n_House = len(House.houses_table)
                internalLog(&#34;Houses data loaded&#34;, &#34;已載入電影院資料&#34;)
        except FileNotFoundError:
                internalLog(&#34;No houses data found&#34;, &#34;無電影院資料&#34;)
        
        relative_path = &#34;../../data/tickets&#34;
        full_path = path.join(absolute_path, relative_path)
        logger.debug(f&#34;Full path = {full_path}&#34;)
        try:
                internalLog(&#34;Finding tickets data&#34;, &#34;正在尋找電影票資料&#34;)
                with open(full_path, &#39;rb&#39;) as file:
                        data: dict = load(file)
                House.total_tickets = data[0]
                House.tickets_table = data[1]
                internalLog(&#34;Tickets data loaded&#34;, &#34;已載入電影票資料&#34;)
        except FileNotFoundError:
                internalLog(&#34;No tickets data found&#34;, &#34;無電影票資料&#34;)
        
        internalLog(&#34;Loading colour scheme&#34;, &#34;正在載入配色設定&#34;)
        loadColour()
        internalLog(&#34;Colour scheme loaded&#34;, &#34;已載入配色設定&#34;)
        
        internalLog(&#34;Loading language setting&#34;, &#34;正在載入語言設定&#34;)
        loadLanguage()
        internalLog(&#34;Colour scheme loaded&#34;, &#34;已載入語言設定&#34;)
        
        internalLog(&#34;Data loading process finished&#34;, &#34;載入資料程序完成&#34;)


LOG_FILE_FULL_PATH: str = &#39;&#39;


def initLog() -&gt; None:
        &#34;&#34;&#34;
        Initialize the log file
        
        :return: None
        &#34;&#34;&#34;
        global LOG_FILE_FULL_PATH
        PROGRAM_START_TIME: datetime = datetime.now()
        PROGRAM_START_TIME_STRING: str = PROGRAM_START_TIME.isoformat(sep=&#39; &#39;, timespec=&#39;seconds&#39;)
        PROGRAM_START_TIME_STRING: str = PROGRAM_START_TIME_STRING.replace(&#39;:&#39;, &#39;-&#39;)  # file name can&#39;t have &#39;:&#39;
        absolute_path = path.dirname(__file__)
        relative_path = f&#39;../../logs/{PROGRAM_START_TIME_STRING}.txt&#39;
        full_path = path.join(absolute_path, relative_path)
        LOG_FILE_FULL_PATH = full_path
        head_msg: str = (&#34;--- LOG FILE ---\n&#34;
                         &#34;# ~INFO~\n&#34;
                         f&#34;# Time: {PROGRAM_START_TIME_STRING}\n&#34;
                         f&#34;# Python version: {version_info.major}.{version_info.minor}.{version_info.micro}\n&#34;
                         f&#34;# Arguments: {argv}\n&#34;
                         f&#34;# Path: {path.abspath(__file__)}\n&#34;
                         &#34;# ~INFO~\n&#34;)
        with open(full_path, &#39;w&#39;) as file:
                file.write(head_msg)
        basicConfig(
                filename=full_path,
                encoding=&#39;utf-8&#39;,
                level=DEBUG,
                format=&#39;%(asctime)s --&gt; %(levelname)s @%(name)s --&gt; %(message)s&#39;,
                datefmt=&#39;%Y/%m/%d %H:%M:%S&#39;,
        )
        logger: Logger = getLogger(&#39;initLog&#39;)
        logger.info(&#39;Program started&#39;)


@register
def endLog() -&gt; None:
        &#34;&#34;&#34;
        Log ending message when exiting
        
        :return: None
        &#34;&#34;&#34;
        try:
                with open(LOG_FILE_FULL_PATH, &#39;a&#39;) as file:
                        file.write(&#39;--- LOG FILE ---&#39;)
        except FileNotFoundError:
                pass</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="SBA.utils.checkPythonVersion"><code class="name flex">
<span>def <span class="ident">checkPythonVersion</span></span>(<span>) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Checks the Python version.
If the python version is older than 3.11, it raises SystemExit.</p>
<p>:return: None
:raises SystemExit: If the Python version is older than 3.11</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def checkPythonVersion() -&gt; None:
        &#34;&#34;&#34;
        Checks the Python version.
        If the python version is older than 3.11, it raises SystemExit.

        :return: None
        :raises SystemExit: If the Python version is older than 3.11
        &#34;&#34;&#34;
        # (tomllib, which is required in login.login, was introduced in Python 3.11),
        # (typing.Self, which is used in house.House, was also introduced in Python 3.11)
        # (match-case syntax, which is used in House.printPlan, was introduced in Python 3.10)
        
        logger: Logger = getLogger(&#34;checkPythonVersion&#34;)
        major_version, minor_version, *_ = version_info
        if major_version &lt; 3:
                logger.critical(&#34;I am running on Python %s!&#34;, major_version)
                logger.critical(&#34;QUITTING THE PROGRAM: Python version lower than Python 3.11&#34;)
                err_msg: str = &#34;This program does not support Python 2&#34;
                raise RealExit(err_msg)
        elif minor_version &lt; 11:
                logger.critical(&#34;I am running on Python 3.%s!&#34;, minor_version)
                logger.critical(&#34;QUITTING THE PROGRAM: Python version lower than Python 3.11&#34;)
                err_msg: str = &#34;Unsupported old Python version (&#34; + str(major_version) + &#34;.&#34; + str(
                        minor_version) + &#34;), please use Python 3.11 or newer&#34;
                raise RealExit(err_msg)</code></pre>
</details>
</dd>
<dt id="SBA.utils.clearScreen"><code class="name flex">
<span>def <span class="ident">clearScreen</span></span>(<span>) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Clear the screen</p>
<p>:return: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def clearScreen() -&gt; None:
        &#34;&#34;&#34;
        Clear the screen

        :return: None
        &#34;&#34;&#34;
        
        try:
                terminal_width, terminal_height = get_terminal_size()
                # Print empty lines in case system(&#39;cls&#39;) or system(&#39;clear&#39;) does not work
                print(&#39;\n&#39; * terminal_height, end=&#39;&#39;)
        except OSError:
                # OSError: [WinError 6] The handle is invalid
                # Normally due to get_terminal_size()
                # But still need to print empty lines in case system(&#39;cls&#39;) or system(&#39;clear&#39;) does not work
                print(&#39;\n&#39; * 30)
        finally:
                if name == &#39;nt&#39;:
                        system(&#39;cls&#39;)
                else:
                        system(&#39;clear&#39;)</code></pre>
</details>
</dd>
<dt id="SBA.utils.endLog"><code class="name flex">
<span>def <span class="ident">endLog</span></span>(<span>) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Log ending message when exiting</p>
<p>:return: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@register
def endLog() -&gt; None:
        &#34;&#34;&#34;
        Log ending message when exiting
        
        :return: None
        &#34;&#34;&#34;
        try:
                with open(LOG_FILE_FULL_PATH, &#39;a&#39;) as file:
                        file.write(&#39;--- LOG FILE ---&#39;)
        except FileNotFoundError:
                pass</code></pre>
</details>
</dd>
<dt id="SBA.utils.initLog"><code class="name flex">
<span>def <span class="ident">initLog</span></span>(<span>) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Initialize the log file</p>
<p>:return: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def initLog() -&gt; None:
        &#34;&#34;&#34;
        Initialize the log file
        
        :return: None
        &#34;&#34;&#34;
        global LOG_FILE_FULL_PATH
        PROGRAM_START_TIME: datetime = datetime.now()
        PROGRAM_START_TIME_STRING: str = PROGRAM_START_TIME.isoformat(sep=&#39; &#39;, timespec=&#39;seconds&#39;)
        PROGRAM_START_TIME_STRING: str = PROGRAM_START_TIME_STRING.replace(&#39;:&#39;, &#39;-&#39;)  # file name can&#39;t have &#39;:&#39;
        absolute_path = path.dirname(__file__)
        relative_path = f&#39;../../logs/{PROGRAM_START_TIME_STRING}.txt&#39;
        full_path = path.join(absolute_path, relative_path)
        LOG_FILE_FULL_PATH = full_path
        head_msg: str = (&#34;--- LOG FILE ---\n&#34;
                         &#34;# ~INFO~\n&#34;
                         f&#34;# Time: {PROGRAM_START_TIME_STRING}\n&#34;
                         f&#34;# Python version: {version_info.major}.{version_info.minor}.{version_info.micro}\n&#34;
                         f&#34;# Arguments: {argv}\n&#34;
                         f&#34;# Path: {path.abspath(__file__)}\n&#34;
                         &#34;# ~INFO~\n&#34;)
        with open(full_path, &#39;w&#39;) as file:
                file.write(head_msg)
        basicConfig(
                filename=full_path,
                encoding=&#39;utf-8&#39;,
                level=DEBUG,
                format=&#39;%(asctime)s --&gt; %(levelname)s @%(name)s --&gt; %(message)s&#39;,
                datefmt=&#39;%Y/%m/%d %H:%M:%S&#39;,
        )
        logger: Logger = getLogger(&#39;initLog&#39;)
        logger.info(&#39;Program started&#39;)</code></pre>
</details>
</dd>
<dt id="SBA.utils.loadData"><code class="name flex">
<span>def <span class="ident">loadData</span></span>(<span>*, print_log: bool = False) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Load <code>House.houses_table</code> from <code>data/houses</code>,
and load <code>House.total_tickets</code> and <code>House.tickets_table</code> from <code>data/tickets</code></p>
<p>:param print_log: Whether to print logs, it is for admin mode. Keyword-only parameter
:type print_log: bool
:return: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def loadData(*, print_log: bool = False) -&gt; None:
        &#34;&#34;&#34;
        Load `House.houses_table` from `data/houses`,
        and load `House.total_tickets` and `House.tickets_table` from `data/tickets`

        :param print_log: Whether to print logs, it is for admin mode. Keyword-only parameter
        :type print_log: bool
        :return: None
        &#34;&#34;&#34;
        
        logger: Logger = getLogger(&#39;loadData&#39;)
        logger.info(&#34;Loading Data&#34;)
        
        def internalLog(english_message: str, chinese_message: str) -&gt; None:
                &#34;&#34;&#34;
                Print (English) log if `print_log` is `True`

                :param english_message: An English message to print and log
                :type english_message: str
                :param chinese_message: A Chinese message to print
                :type chinese_message: str
                :return: None
                &#34;&#34;&#34;
                if print_log:
                        printLang(english_message, chinese_message)
                logger.info(english_message)
        
        absolute_path = path.dirname(__file__)
        
        relative_path = &#34;../../data/houses&#34;
        full_path = path.join(absolute_path, relative_path)
        logger.debug(f&#34;Full path = {full_path}&#34;)
        try:
                internalLog(&#34;Finding houses data&#34;, &#34;正在尋找電影院資料&#34;)
                with open(full_path, &#39;rb&#39;) as file:
                        data: dict = load(file)
                House.houses_table = data
                House.n_House = len(House.houses_table)
                internalLog(&#34;Houses data loaded&#34;, &#34;已載入電影院資料&#34;)
        except FileNotFoundError:
                internalLog(&#34;No houses data found&#34;, &#34;無電影院資料&#34;)
        
        relative_path = &#34;../../data/tickets&#34;
        full_path = path.join(absolute_path, relative_path)
        logger.debug(f&#34;Full path = {full_path}&#34;)
        try:
                internalLog(&#34;Finding tickets data&#34;, &#34;正在尋找電影票資料&#34;)
                with open(full_path, &#39;rb&#39;) as file:
                        data: dict = load(file)
                House.total_tickets = data[0]
                House.tickets_table = data[1]
                internalLog(&#34;Tickets data loaded&#34;, &#34;已載入電影票資料&#34;)
        except FileNotFoundError:
                internalLog(&#34;No tickets data found&#34;, &#34;無電影票資料&#34;)
        
        internalLog(&#34;Loading colour scheme&#34;, &#34;正在載入配色設定&#34;)
        loadColour()
        internalLog(&#34;Colour scheme loaded&#34;, &#34;已載入配色設定&#34;)
        
        internalLog(&#34;Loading language setting&#34;, &#34;正在載入語言設定&#34;)
        loadLanguage()
        internalLog(&#34;Colour scheme loaded&#34;, &#34;已載入語言設定&#34;)
        
        internalLog(&#34;Data loading process finished&#34;, &#34;載入資料程序完成&#34;)</code></pre>
</details>
</dd>
<dt id="SBA.utils.saveData"><code class="name flex">
<span>def <span class="ident">saveData</span></span>(<span>*, print_log: bool = False) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Save <code>House.houses_table</code> into <code>data/houses</code>,
and save <code>House.total_tickets</code> and <code>House.tickets_table</code> into <code>data/tickets</code></p>
<p>:param print_log: Whether to print logs, it is for admin mode. Keyword-only parameter
:type print_log: bool
:return: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def saveData(*, print_log: bool = False) -&gt; None:
        &#34;&#34;&#34;
        Save `House.houses_table` into `data/houses`,
        and save `House.total_tickets` and `House.tickets_table` into `data/tickets`
        
        :param print_log: Whether to print logs, it is for admin mode. Keyword-only parameter
        :type print_log: bool
        :return: None
        &#34;&#34;&#34;
        from .colour import colour_mode
        from .language import language
        
        logger: Logger = getLogger(&#39;saveData&#39;)
        logger.info(&#34;Saving Data&#34;)
        
        def internalLog(english_message: str, chinese_message: str) -&gt; None:
                &#34;&#34;&#34;
                Print (English) log if `print_log` is `True`

                :param english_message: An English message to print and log
                :type english_message: str
                :param chinese_message: A Chinese message to print
                :type chinese_message: str
                :return: None
                &#34;&#34;&#34;
                if print_log:
                        printLang(english_message, chinese_message)
                logger.info(english_message)
        
        absolute_path = path.dirname(__file__)
        
        relative_path = &#39;../../data&#39;
        full_path = path.join(absolute_path, relative_path)
        logger.debug(f&#34;Full path = {full_path}&#34;)
        internalLog(&#34;Reaching the data folder&#34;, &#34;正在尋找 data 資料夾&#34;)
        if not path.isdir(full_path):
                internalLog(&#34;No data folder, creating one&#34;, &#34;無 data 資料夾，正在創建&#34;)
                makedirs(full_path)
        
        internalLog(&#34;Writing houses data&#34;, &#34;正在寫入電影院資料&#34;)
        relative_path = &#34;../../data/houses&#34;
        full_path = path.join(absolute_path, relative_path)
        logger.debug(f&#34;Full path = {full_path}&#34;)
        with open(full_path, &#39;wb&#39;) as file:
                # No need save House.n_house, count it later
                dump(House.houses_table, file)
        
        internalLog(&#34;Writing tickets data&#34;, &#34;正在寫入電影票資料&#34;)
        relative_path = &#34;../../data/tickets&#34;
        full_path = path.join(absolute_path, relative_path)
        logger.debug(f&#34;Full path = {full_path}&#34;)
        with open(full_path, &#39;wb&#39;) as file:
                dump([House.total_tickets, House.tickets_table], file)
        
        internalLog(&#34;Writing colour scheme setting&#34;, &#34;正在寫入顔色設定&#34;)
        setColour(colour_mode)
        
        internalLog(&#34;Writing language option&#34;, &#34;正在寫入語言設定&#34;)
        setLanguage(language)
        
        internalLog(&#34;Data saving process finished&#34;, &#34;儲存資料程序完成&#34;)</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="SBA.utils.RealExit"><code class="flex name class">
<span>class <span class="ident">RealExit</span></span>
<span>(</span><span>message: str = '')</span>
</code></dt>
<dd>
<div class="desc"><p>This exception is raised when you really want to quit
i.e. Not an unexpected program crash</p>
<p>This exception should be handled specially in main.main()</p>
<p>Do NOT use exit() or quit() or even os._exit(), they can't be treated specifically (in this program)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class RealExit(Exception):
        &#34;&#34;&#34;
        This exception is raised when you really want to quit
        i.e. Not an unexpected program crash
        
        This exception should be handled specially in main.main()
        
        Do NOT use exit() or quit() or even os._exit(), they can&#39;t be treated specifically (in this program)
        &#34;&#34;&#34;
        
        def __init__(self, message: str = &#34;&#34;) -&gt; None:
                # No logging is needed
                self.message: str = message
                super().__init__(self.message)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.Exception</li>
<li>builtins.BaseException</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="SBA" href="index.html">SBA</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="two-column">
<li><code><a title="SBA.utils.checkPythonVersion" href="#SBA.utils.checkPythonVersion">checkPythonVersion</a></code></li>
<li><code><a title="SBA.utils.clearScreen" href="#SBA.utils.clearScreen">clearScreen</a></code></li>
<li><code><a title="SBA.utils.endLog" href="#SBA.utils.endLog">endLog</a></code></li>
<li><code><a title="SBA.utils.initLog" href="#SBA.utils.initLog">initLog</a></code></li>
<li><code><a title="SBA.utils.loadData" href="#SBA.utils.loadData">loadData</a></code></li>
<li><code><a title="SBA.utils.saveData" href="#SBA.utils.saveData">saveData</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="SBA.utils.RealExit" href="#SBA.utils.RealExit">RealExit</a></code></h4>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>